{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Miki\\\\Desktop\\\\MedSpringReact\\\\src\\\\main\\\\webapp\\\\WEB-INF\\\\react\\\\mymed\\\\src\\\\components\\\\pages\\\\Task1.js\";\nimport React from 'react'; //import axios from 'axios';\n\nimport styles from '../Main.module.css';\nimport taskStyles from './Task1.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Task1 extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.ToBase64 = function (u8) {\n      return btoa(String.fromCharCode.apply(null, u8));\n    };\n\n    this.FromBase64 = function (str) {\n      return atob(str).split('').map(function (c) {\n        return c.charCodeAt(0);\n      });\n    };\n\n    this.state = {\n      isFetching: false\n    };\n    const self = this;\n  }\n\n  submitHandle(event, foo = this) {\n    console.log(event);\n    event.preventDefault();\n    let form = event.target; //let data = new FormData(form);\n    //data.delete('picture');\n\n    let data = new FormData();\n    console.log(event.target.elements.picture.files[0]);\n    data.append('alphaStep', event.target.elements.alphaStep.value);\n    data.append('count', event.target.elements.count.value);\n    data.append('spread', event.target.elements.spread.value);\n    data.append('picture', event.target.elements.picture.files[0]);\n    let c;\n    console.log(self); //console.log(data.get('picture').webkitRelativePath)\n\n    console.log(JSON.stringify(Object.fromEntries(data)));\n    fetch('//localhost:8080/hi', {\n      method: 'PUT',\n      //headers: { 'Content-Type': 'application/json' },\n      //headers: { 'Content-Type': 'multipart/form-data' },\n      body: data\n    }) //.then(response => response.json())\n    .then(result => {\n      //c = result.text().then((data) => {\n      c = console.log('Success:', result); //            const filename =  result.headers.get('Content-Disposition').split('filename=')[1];\n      //                  result.blob().then(blob => {\n      //                    let url = window.URL.createObjectURL(blob);\n      //                    let a = document.createElement('a');\n      //                    a.href = url;\n      //                    a.download = filename;\n      //                    a.click();\n      //            });\n      //})\n\n      let iterator = result.headers.entries(); //let val = iterator.next();\n\n      console.log(Array.from(iterator));\n      console.log(foo);\n      result.formData().then((formdata, foo = this) => {\n        console.log(Array.from(formdata.keys()));\n        console.log(Array.from(formdata.values()));\n        console.log(typeof formdata.get('file1'));\n        let str = formdata.get('file1').slice(1, -1);\n        let array = str.split(\",\").map(out => parseInt(out, 10));\n        console.log(typeof array); //document.getElementById(\"inputImage\").src = \"data:image/jpeg;base64,\" + this.ToBase64(array);\n      });\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  }\n\n  render() {\n    const fetchBlock = this.state.isFetching ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loadingPane,\n      children: \" Fetching... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this) : null;\n\n    const mainTask = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: taskStyles.taskMain,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: taskStyles.inputFormDiv,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.submitHandle,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"picture\",\n            children: \"Zamie\\u015B\\u0107 Obraz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 71\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"picture\",\n            name: \"picture\",\n            accept: \".jpg, .jpeg, .png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 101\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"alphaStep\",\n            children: \"Krok \\u2206\\u03B1 uk\\u0142adu emiter/detektor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 90\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"alphaStep\",\n            name: \"alphaStep\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 80\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"count\",\n            children: \"Liczba detektor\\xF3w\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 73\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"count\",\n            name: \"count\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 72\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"spread\",\n            children: \"Rozwarto\\u015B\\u0107 detektor\\xF3w\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 78\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"spread\",\n            name: \"spread\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 74\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Generate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 65\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: taskStyles.imageView0,\n        id: taskStyles.inputImageDiv,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"inputImage\",\n          src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=\",\n          alt: \"input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: taskStyles.imageView1,\n        id: taskStyles.processImageDiv,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"processImage\",\n          src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=\",\n          alt: \"process\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: taskStyles.imageView2,\n        id: taskStyles.outputImageDiv,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"outputImage\",\n          src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=\",\n          alt: \"output\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [fetchBlock, mainTask]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Task1;","map":{"version":3,"sources":["C:/Users/Miki/Desktop/MedSpringReact/src/main/webapp/WEB-INF/react/mymed/src/components/pages/Task1.js"],"names":["React","styles","taskStyles","Task1","Component","constructor","props","ToBase64","u8","btoa","String","fromCharCode","apply","FromBase64","str","atob","split","map","c","charCodeAt","state","isFetching","self","submitHandle","event","foo","console","log","preventDefault","form","target","data","FormData","elements","picture","files","append","alphaStep","value","count","spread","JSON","stringify","Object","fromEntries","fetch","method","body","then","result","iterator","headers","entries","Array","from","formData","formdata","keys","values","get","slice","array","out","parseInt","catch","error","render","fetchBlock","loadingPane","mainTask","taskMain","inputFormDiv","imageView0","inputImageDiv","imageView1","processImageDiv","imageView2","outputImageDiv"],"mappings":"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","sourcesContent":["import React from 'react';\r\n//import axios from 'axios';\r\n\r\nimport styles from '../Main.module.css';\r\nimport taskStyles from './Task1.module.css';\r\n\r\nclass Task1 extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          isFetching: false\r\n        };\r\n        const self = this;\r\n    }\r\n\r\n    ToBase64 = function (u8) {\r\n      return btoa(String.fromCharCode.apply(null, u8));\r\n    }\r\n\r\n    FromBase64 = function (str) {\r\n      return atob(str).split('').map(function (c) { return c.charCodeAt(0); });\r\n    }\r\n\r\n    submitHandle(event, foo=this) {\r\n        console.log(event);\r\n        event.preventDefault();\r\n        let form = event.target;\r\n        //let data = new FormData(form);\r\n        //data.delete('picture');\r\n        let data = new FormData();\r\n        console.log(event.target.elements.picture.files[0]);\r\n        data.append('alphaStep', event.target.elements.alphaStep.value);\r\n        data.append('count', event.target.elements.count.value);\r\n        data.append('spread', event.target.elements.spread.value);\r\n        data.append('picture', event.target.elements.picture.files[0])\r\n\r\n        let c;\r\n\r\n        console.log(self)\r\n        //console.log(data.get('picture').webkitRelativePath)\r\n        console.log(JSON.stringify(Object.fromEntries(data)));\r\n        fetch('//localhost:8080/hi', {\r\n            method: 'PUT',\r\n            //headers: { 'Content-Type': 'application/json' },\r\n            //headers: { 'Content-Type': 'multipart/form-data' },\r\n            body: data\r\n\r\n        })\r\n        //.then(response => response.json())\r\n        .then((result) => {\r\n          //c = result.text().then((data) => {\r\n            c = console.log('Success:', result);\r\n\r\n//            const filename =  result.headers.get('Content-Disposition').split('filename=')[1];\r\n//                  result.blob().then(blob => {\r\n//                    let url = window.URL.createObjectURL(blob);\r\n//                    let a = document.createElement('a');\r\n//                    a.href = url;\r\n//                    a.download = filename;\r\n//                    a.click();\r\n//            });\r\n           //})\r\n\r\n            let iterator = result.headers.entries();\r\n            //let val = iterator.next();\r\n            console.log(Array.from(iterator));\r\n            console.log(foo);\r\n\r\n            result.formData()\r\n            .then((formdata, foo=this) => {\r\n                console.log(Array.from(formdata.keys()));\r\n                console.log(Array.from(formdata.values()));\r\n                console.log(typeof formdata.get('file1'));\r\n                let str = formdata.get('file1').slice(1, -1);\r\n                let array = str.split(\",\").map(out => (parseInt(out, 10)));\r\n                console.log(typeof array);\r\n\r\n\r\n                //document.getElementById(\"inputImage\").src = \"data:image/jpeg;base64,\" + this.ToBase64(array);\r\n            })\r\n\r\n        })\r\n        .catch(error => {\r\n          console.error('Error:', error);\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n        const fetchBlock = (this.state.isFetching) ?\r\n            <div className={styles.loadingPane}> Fetching... </div>\r\n            :null;\r\n\r\n        const mainTask =\r\n            <div className={taskStyles.taskMain}>\r\n                <div className={taskStyles.inputFormDiv}>\r\n                    <form onSubmit={this.submitHandle}>\r\n                        <label htmlFor='picture'>Zamieść Obraz</label><br />\r\n                        <input type=\"file\" id=\"picture\" name='picture' accept=\".jpg, .jpeg, .png\" /><br />\r\n                        <label htmlFor='alphaStep'>Krok ∆α układu emiter/detektor</label><br />\r\n                        <input type='number' id='alphaStep' name='alphaStep' /><br />\r\n                        <label htmlFor='count'>Liczba detektorów</label><br />\r\n                        <input type='number' id='count' name='count' /><br />\r\n                        <label htmlFor='spread'>Rozwartość detektorów</label><br />\r\n                        <input type='number' id='spread' name='spread' /><br />\r\n                        <input type='submit' value='Generate' /><br />\r\n                    </form>\r\n                </div>\r\n                <div className={taskStyles.imageView0} id={taskStyles.inputImageDiv}>\r\n                    <img id='inputImage' src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=\" alt=\"input\" />\r\n                </div>\r\n                <div className={taskStyles.imageView1} id={taskStyles.processImageDiv}>\r\n                    <img id='processImage' src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=\" alt=\"process\" />\r\n                </div>\r\n                <div className={taskStyles.imageView2} id={taskStyles.outputImageDiv}>\r\n                    <img id='outputImage' src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=\" alt=\"output\" />\r\n                </div>\r\n            </div>\r\n\r\n        return (\r\n            <main>\r\n               {fetchBlock}\r\n               {mainTask}\r\n            </main>\r\n        )}\r\n}\r\n\r\nexport default Task1;"]},"metadata":{},"sourceType":"module"}