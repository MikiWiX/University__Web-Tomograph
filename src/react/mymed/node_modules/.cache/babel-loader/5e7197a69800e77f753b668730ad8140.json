{"ast":null,"code":"var table;\nvar controls;\nvar addImg = './icoNotes/add.png';\nvar removeImg = './icoNotes/remove.png';\nvar arrowUpImg = './icoNotes/arrowUp.png';\nvar arrowDnImg = './icoNotes/arrowDn.png';\nvar arrowImg = './icoNotes/arrow.png';\nwindow.addEventListener('load', function () {\n  table = document.getElementById('editable');\n\n  if (table == null) {\n    table = document.createElement('table');\n    document.getElementsByTagName('main')[0].appendChild(table);\n  }\n\n  controls = document.createElement('table');\n  controls.setAttribute('class', 'controls');\n  document.getElementsByTagName('main')[0].appendChild(controls);\n\n  for (let row of table.rows) {\n    if (row.children[0].tagName == 'TH') {\n      addEmptyRow(controls);\n    } else {\n      addEditCapatibility(row);\n      addControlRow(controls);\n    }\n  }\n\n  let newRow = createAddRowIcon();\n  document.getElementsByTagName('main')[0].appendChild(newRow);\n});\n\nfunction addEmptyRow(tab) {\n  let row = document.createElement('tr');\n  makeDot(row);\n  makeDot(row);\n  makeDot(row);\n  tab.appendChild(row);\n}\n\nfunction makeDot(row) {\n  let dot = document.createElement('td');\n  dot.setAttribute('class', 'empty');\n  row.appendChild(dot);\n}\n\nfunction addControlRow(tab) {\n  let row = document.createElement('tr');\n  makeDotWithContent(row, removeImg, 'rmIcon icon', 'removeRow(this.parentNode.parentNode)');\n  makeDotWithContent(row, arrowUpImg, 'icon', 'moveUp(this.parentNode.parentNode)');\n  makeDotWithContent(row, arrowDnImg, 'icon', 'moveDn(this.parentNode.parentNode)');\n  tab.appendChild(row);\n}\n\nfunction makeDotWithContent(row, imgSrc, imgClass, imgAction) {\n  let dot = document.createElement('td');\n  addIcon(dot, imgSrc, imgClass, imgAction);\n  row.appendChild(dot);\n}\n\nfunction addIcon(dot, imgSrc, imgClass, imgAction) {\n  let rmImg = document.createElement('img');\n  rmImg.setAttribute('src', imgSrc);\n  rmImg.setAttribute('class', imgClass);\n  rmImg.setAttribute('onclick', imgAction);\n  dot.appendChild(rmImg);\n}\n\nfunction createAddRowIcon() {\n  let div = document.createElement('div');\n  div.setAttribute('class', 'newRow');\n  let img = document.createElement('img');\n  img.setAttribute('src', addImg);\n  img.setAttribute('class', 'addRow');\n  img.setAttribute('onclick', 'addRow()');\n  div.appendChild(img);\n  return div;\n}\n\nfunction removeRow(row) {\n  let id = Array.prototype.indexOf.call(row.parentNode.rows, row);\n  table.deleteRow(id);\n  controls.deleteRow(id);\n}\n\nfunction moveUp(row) {\n  let id = Array.prototype.indexOf.call(row.parentNode.rows, row);\n\n  if (id > 0 && table.rows[id - 1].firstElementChild.nodeName == 'TD') {\n    let r0 = table.rows[id].outerHTML;\n    let r1 = table.rows[id - 1].outerHTML;\n    table.rows[id].innerHTML = r1;\n    table.rows[id - 1].innerHTML = r0;\n  }\n}\n\nfunction moveDn(row) {\n  let id = Array.prototype.indexOf.call(row.parentNode.rows, row);\n\n  if (id < table.rows.length - 1 && table.rows[id + 1].firstElementChild.nodeName == 'TD') {\n    let r0 = table.rows[id].outerHTML;\n    let r1 = table.rows[id + 1].outerHTML;\n    table.rows[id].innerHTML = r1;\n    table.rows[id + 1].innerHTML = r0;\n  }\n}\n\nfunction addRow() {\n  addTextRow(table);\n  addControlRow(controls);\n}\n\nfunction addTextRow(tab) {\n  let tWidth = tab.rows[0].children.length;\n  let row = tab.insertRow();\n\n  for (let i = 0; i < tWidth; i++) {\n    let text = document.createTextNode('lorem');\n    row.insertCell().appendChild(text);\n  }\n\n  addEditCapatibility(row);\n}\n\nfunction addEditCapatibility(row) {\n  for (let cell of row.children) {\n    if (cell.firstChild != '') {\n      //move any text to span\n      let text = document.createElement('span');\n      let x = cell.textContent;\n      cell.firstChild.textContent = '';\n      text.textContent = x;\n      text.setAttribute('onclick', 'editCell(this.parentNode)');\n      cell.appendChild(text);\n    }\n\n    let editField = document.createElement('textarea');\n    editField.setAttribute('type', 'text');\n    editField.setAttribute('onblur', 'closeEditor(this.parentNode)');\n    editField.setAttribute('placeholder', 'lorem');\n    editField.setAttribute('class', 'noDisplay');\n    cell.appendChild(editField);\n  }\n}\n/* article editor */\n\n\nfunction editCell(cell) {\n  let cellData = cell.firstElementChild.textContent;\n  cell.firstElementChild.classList.add('noDisplay');\n  cell.lastElementChild.value = cellData;\n  cell.lastElementChild.classList.remove('noDisplay');\n  cell.lastElementChild.focus();\n}\n\nfunction closeEditor(cell) {\n  let cellData = cell.lastElementChild.value;\n\n  if (!cellData) {\n    cellData = 'lorem';\n  }\n\n  cell.lastElementChild.classList.add('noDisplay');\n  cell.firstElementChild.textContent = cellData;\n  cell.firstElementChild.classList.remove('noDisplay');\n}","map":{"version":3,"sources":["C:/Users/Miki/Desktop/MedSpringReact/src/main/webapp/WEB-INF/react/mymed/src/components/pages/table.js"],"names":["table","controls","addImg","removeImg","arrowUpImg","arrowDnImg","arrowImg","window","addEventListener","document","getElementById","createElement","getElementsByTagName","appendChild","setAttribute","row","rows","children","tagName","addEmptyRow","addEditCapatibility","addControlRow","newRow","createAddRowIcon","tab","makeDot","dot","makeDotWithContent","imgSrc","imgClass","imgAction","addIcon","rmImg","div","img","removeRow","id","Array","prototype","indexOf","call","parentNode","deleteRow","moveUp","firstElementChild","nodeName","r0","outerHTML","r1","innerHTML","moveDn","length","addRow","addTextRow","tWidth","insertRow","i","text","createTextNode","insertCell","cell","firstChild","x","textContent","editField","editCell","cellData","classList","add","lastElementChild","value","remove","focus","closeEditor"],"mappings":"AAAA,IAAIA,KAAJ;AACA,IAAIC,QAAJ;AAEA,IAAIC,MAAM,GAAG,oBAAb;AACA,IAAIC,SAAS,GAAG,uBAAhB;AACA,IAAIC,UAAU,GAAG,wBAAjB;AACA,IAAIC,UAAU,GAAG,wBAAjB;AACA,IAAIC,QAAQ,GAAG,sBAAf;AAEAC,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,YAAW;AACvCR,EAAAA,KAAK,GAAGS,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAR;;AACA,MAAIV,KAAK,IAAE,IAAX,EAAgB;AACZA,IAAAA,KAAK,GAAGS,QAAQ,CAACE,aAAT,CAAuB,OAAvB,CAAR;AACAF,IAAAA,QAAQ,CAACG,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDb,KAArD;AACH;;AAEDC,EAAAA,QAAQ,GAAGQ,QAAQ,CAACE,aAAT,CAAuB,OAAvB,CAAX;AACAV,EAAAA,QAAQ,CAACa,YAAT,CAAsB,OAAtB,EAA+B,UAA/B;AACAL,EAAAA,QAAQ,CAACG,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDZ,QAArD;;AAEA,OAAK,IAAIc,GAAT,IAAgBf,KAAK,CAACgB,IAAtB,EAA2B;AACvB,QAAGD,GAAG,CAACE,QAAJ,CAAa,CAAb,EAAgBC,OAAhB,IAA2B,IAA9B,EAAmC;AAC/BC,MAAAA,WAAW,CAAClB,QAAD,CAAX;AACH,KAFD,MAEO;AACHmB,MAAAA,mBAAmB,CAACL,GAAD,CAAnB;AACAM,MAAAA,aAAa,CAACpB,QAAD,CAAb;AACH;AACJ;;AAED,MAAIqB,MAAM,GAAGC,gBAAgB,EAA7B;AACAd,EAAAA,QAAQ,CAACG,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDS,MAArD;AAEH,CAvBD;;AAyBA,SAASH,WAAT,CAAqBK,GAArB,EAAyB;AACrB,MAAIT,GAAG,GAAGN,QAAQ,CAACE,aAAT,CAAuB,IAAvB,CAAV;AACAc,EAAAA,OAAO,CAACV,GAAD,CAAP;AACAU,EAAAA,OAAO,CAACV,GAAD,CAAP;AACAU,EAAAA,OAAO,CAACV,GAAD,CAAP;AACAS,EAAAA,GAAG,CAACX,WAAJ,CAAgBE,GAAhB;AACH;;AACD,SAASU,OAAT,CAAiBV,GAAjB,EAAqB;AACjB,MAAIW,GAAG,GAAGjB,QAAQ,CAACE,aAAT,CAAuB,IAAvB,CAAV;AACAe,EAAAA,GAAG,CAACZ,YAAJ,CAAiB,OAAjB,EAA0B,OAA1B;AACAC,EAAAA,GAAG,CAACF,WAAJ,CAAgBa,GAAhB;AACH;;AAED,SAASL,aAAT,CAAuBG,GAAvB,EAA2B;AACvB,MAAIT,GAAG,GAAGN,QAAQ,CAACE,aAAT,CAAuB,IAAvB,CAAV;AAEAgB,EAAAA,kBAAkB,CAACZ,GAAD,EAAMZ,SAAN,EAAiB,aAAjB,EAAgC,uCAAhC,CAAlB;AACAwB,EAAAA,kBAAkB,CAACZ,GAAD,EAAMX,UAAN,EAAkB,MAAlB,EAA0B,oCAA1B,CAAlB;AACAuB,EAAAA,kBAAkB,CAACZ,GAAD,EAAMV,UAAN,EAAkB,MAAlB,EAA0B,oCAA1B,CAAlB;AAEAmB,EAAAA,GAAG,CAACX,WAAJ,CAAgBE,GAAhB;AACH;;AACD,SAASY,kBAAT,CAA4BZ,GAA5B,EAAiCa,MAAjC,EAAyCC,QAAzC,EAAmDC,SAAnD,EAA6D;AACzD,MAAIJ,GAAG,GAAGjB,QAAQ,CAACE,aAAT,CAAuB,IAAvB,CAAV;AACAoB,EAAAA,OAAO,CAACL,GAAD,EAAME,MAAN,EAAcC,QAAd,EAAwBC,SAAxB,CAAP;AACAf,EAAAA,GAAG,CAACF,WAAJ,CAAgBa,GAAhB;AACH;;AAED,SAASK,OAAT,CAAiBL,GAAjB,EAAsBE,MAAtB,EAA8BC,QAA9B,EAAwCC,SAAxC,EAAmD;AAC/C,MAAIE,KAAK,GAAGvB,QAAQ,CAACE,aAAT,CAAuB,KAAvB,CAAZ;AACAqB,EAAAA,KAAK,CAAClB,YAAN,CAAmB,KAAnB,EAA0Bc,MAA1B;AACAI,EAAAA,KAAK,CAAClB,YAAN,CAAmB,OAAnB,EAA4Be,QAA5B;AACAG,EAAAA,KAAK,CAAClB,YAAN,CAAmB,SAAnB,EAA8BgB,SAA9B;AAEAJ,EAAAA,GAAG,CAACb,WAAJ,CAAgBmB,KAAhB;AACH;;AAED,SAAST,gBAAT,GAA4B;AACxB,MAAIU,GAAG,GAAGxB,QAAQ,CAACE,aAAT,CAAuB,KAAvB,CAAV;AACAsB,EAAAA,GAAG,CAACnB,YAAJ,CAAiB,OAAjB,EAA0B,QAA1B;AAEA,MAAIoB,GAAG,GAAGzB,QAAQ,CAACE,aAAT,CAAuB,KAAvB,CAAV;AACAuB,EAAAA,GAAG,CAACpB,YAAJ,CAAiB,KAAjB,EAAwBZ,MAAxB;AACAgC,EAAAA,GAAG,CAACpB,YAAJ,CAAiB,OAAjB,EAA0B,QAA1B;AACAoB,EAAAA,GAAG,CAACpB,YAAJ,CAAiB,SAAjB,EAA4B,UAA5B;AAEAmB,EAAAA,GAAG,CAACpB,WAAJ,CAAgBqB,GAAhB;AACA,SAAOD,GAAP;AACH;;AAED,SAASE,SAAT,CAAmBpB,GAAnB,EAAuB;AACnB,MAAIqB,EAAE,GAAGC,KAAK,CAACC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6BzB,GAAG,CAAC0B,UAAJ,CAAezB,IAA5C,EAAkDD,GAAlD,CAAT;AACAf,EAAAA,KAAK,CAAC0C,SAAN,CAAgBN,EAAhB;AACAnC,EAAAA,QAAQ,CAACyC,SAAT,CAAmBN,EAAnB;AACH;;AACD,SAASO,MAAT,CAAgB5B,GAAhB,EAAoB;AAChB,MAAIqB,EAAE,GAAGC,KAAK,CAACC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6BzB,GAAG,CAAC0B,UAAJ,CAAezB,IAA5C,EAAkDD,GAAlD,CAAT;;AACA,MAAGqB,EAAE,GAAC,CAAH,IAAQpC,KAAK,CAACgB,IAAN,CAAWoB,EAAE,GAAC,CAAd,EAAiBQ,iBAAjB,CAAmCC,QAAnC,IAA6C,IAAxD,EAA6D;AACzD,QAAIC,EAAE,GAAG9C,KAAK,CAACgB,IAAN,CAAWoB,EAAX,EAAeW,SAAxB;AACA,QAAIC,EAAE,GAAGhD,KAAK,CAACgB,IAAN,CAAWoB,EAAE,GAAC,CAAd,EAAiBW,SAA1B;AACA/C,IAAAA,KAAK,CAACgB,IAAN,CAAWoB,EAAX,EAAea,SAAf,GAA2BD,EAA3B;AACAhD,IAAAA,KAAK,CAACgB,IAAN,CAAWoB,EAAE,GAAC,CAAd,EAAiBa,SAAjB,GAA6BH,EAA7B;AACH;AACJ;;AACD,SAASI,MAAT,CAAgBnC,GAAhB,EAAoB;AAChB,MAAIqB,EAAE,GAAGC,KAAK,CAACC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6BzB,GAAG,CAAC0B,UAAJ,CAAezB,IAA5C,EAAkDD,GAAlD,CAAT;;AACA,MAAGqB,EAAE,GAACpC,KAAK,CAACgB,IAAN,CAAWmC,MAAX,GAAkB,CAArB,IAA0BnD,KAAK,CAACgB,IAAN,CAAWoB,EAAE,GAAC,CAAd,EAAiBQ,iBAAjB,CAAmCC,QAAnC,IAA6C,IAA1E,EAA+E;AAC3E,QAAIC,EAAE,GAAG9C,KAAK,CAACgB,IAAN,CAAWoB,EAAX,EAAeW,SAAxB;AACA,QAAIC,EAAE,GAAGhD,KAAK,CAACgB,IAAN,CAAWoB,EAAE,GAAC,CAAd,EAAiBW,SAA1B;AACA/C,IAAAA,KAAK,CAACgB,IAAN,CAAWoB,EAAX,EAAea,SAAf,GAA2BD,EAA3B;AACAhD,IAAAA,KAAK,CAACgB,IAAN,CAAWoB,EAAE,GAAC,CAAd,EAAiBa,SAAjB,GAA6BH,EAA7B;AACH;AACJ;;AACD,SAASM,MAAT,GAAkB;AACdC,EAAAA,UAAU,CAACrD,KAAD,CAAV;AACAqB,EAAAA,aAAa,CAACpB,QAAD,CAAb;AACH;;AACD,SAASoD,UAAT,CAAoB7B,GAApB,EAAyB;AACrB,MAAI8B,MAAM,GAAG9B,GAAG,CAACR,IAAJ,CAAS,CAAT,EAAYC,QAAZ,CAAqBkC,MAAlC;AACA,MAAIpC,GAAG,GAAGS,GAAG,CAAC+B,SAAJ,EAAV;;AAEA,OAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACF,MAAhB,EAAwBE,CAAC,EAAzB,EAA4B;AACxB,QAAIC,IAAI,GAAGhD,QAAQ,CAACiD,cAAT,CAAwB,OAAxB,CAAX;AACA3C,IAAAA,GAAG,CAAC4C,UAAJ,GAAiB9C,WAAjB,CAA6B4C,IAA7B;AACH;;AAEDrC,EAAAA,mBAAmB,CAACL,GAAD,CAAnB;AACH;;AAED,SAASK,mBAAT,CAA6BL,GAA7B,EAAiC;AAE7B,OAAK,IAAI6C,IAAT,IAAiB7C,GAAG,CAACE,QAArB,EAA8B;AAC1B,QAAG2C,IAAI,CAACC,UAAL,IAAmB,EAAtB,EAA0B;AACtB;AACA,UAAIJ,IAAI,GAAGhD,QAAQ,CAACE,aAAT,CAAuB,MAAvB,CAAX;AACA,UAAImD,CAAC,GAAGF,IAAI,CAACG,WAAb;AACAH,MAAAA,IAAI,CAACC,UAAL,CAAgBE,WAAhB,GAA8B,EAA9B;AACAN,MAAAA,IAAI,CAACM,WAAL,GAAmBD,CAAnB;AACAL,MAAAA,IAAI,CAAC3C,YAAL,CAAkB,SAAlB,EAA6B,2BAA7B;AACA8C,MAAAA,IAAI,CAAC/C,WAAL,CAAiB4C,IAAjB;AACH;;AAED,QAAIO,SAAS,GAAGvD,QAAQ,CAACE,aAAT,CAAuB,UAAvB,CAAhB;AACAqD,IAAAA,SAAS,CAAClD,YAAV,CAAuB,MAAvB,EAA+B,MAA/B;AACAkD,IAAAA,SAAS,CAAClD,YAAV,CAAuB,QAAvB,EAAiC,8BAAjC;AACAkD,IAAAA,SAAS,CAAClD,YAAV,CAAuB,aAAvB,EAAsC,OAAtC;AACAkD,IAAAA,SAAS,CAAClD,YAAV,CAAuB,OAAvB,EAAgC,WAAhC;AACA8C,IAAAA,IAAI,CAAC/C,WAAL,CAAiBmD,SAAjB;AACH;AACJ;AAGD;;;AACA,SAASC,QAAT,CAAkBL,IAAlB,EAAwB;AAEpB,MAAIM,QAAQ,GAAGN,IAAI,CAAChB,iBAAL,CAAuBmB,WAAtC;AACAH,EAAAA,IAAI,CAAChB,iBAAL,CAAuBuB,SAAvB,CAAiCC,GAAjC,CAAqC,WAArC;AACAR,EAAAA,IAAI,CAACS,gBAAL,CAAsBC,KAAtB,GAA8BJ,QAA9B;AACAN,EAAAA,IAAI,CAACS,gBAAL,CAAsBF,SAAtB,CAAgCI,MAAhC,CAAuC,WAAvC;AACAX,EAAAA,IAAI,CAACS,gBAAL,CAAsBG,KAAtB;AACH;;AAED,SAASC,WAAT,CAAqBb,IAArB,EAA2B;AAEvB,MAAIM,QAAQ,GAAGN,IAAI,CAACS,gBAAL,CAAsBC,KAArC;;AACA,MAAI,CAACJ,QAAL,EAAc;AACVA,IAAAA,QAAQ,GAAC,OAAT;AACH;;AACDN,EAAAA,IAAI,CAACS,gBAAL,CAAsBF,SAAtB,CAAgCC,GAAhC,CAAoC,WAApC;AACAR,EAAAA,IAAI,CAAChB,iBAAL,CAAuBmB,WAAvB,GAAqCG,QAArC;AACAN,EAAAA,IAAI,CAAChB,iBAAL,CAAuBuB,SAAvB,CAAiCI,MAAjC,CAAwC,WAAxC;AACH","sourcesContent":["var table;\r\nvar controls;\r\n\r\nvar addImg = './icoNotes/add.png';\r\nvar removeImg = './icoNotes/remove.png';\r\nvar arrowUpImg = './icoNotes/arrowUp.png';\r\nvar arrowDnImg = './icoNotes/arrowDn.png';\r\nvar arrowImg = './icoNotes/arrow.png';\r\n\r\nwindow.addEventListener('load', function() {\r\n    table = document.getElementById('editable');\r\n    if (table==null){\r\n        table = document.createElement('table');\r\n        document.getElementsByTagName('main')[0].appendChild(table);\r\n    }\r\n\r\n    controls = document.createElement('table');\r\n    controls.setAttribute('class', 'controls');\r\n    document.getElementsByTagName('main')[0].appendChild(controls);\r\n\r\n    for (let row of table.rows){\r\n        if(row.children[0].tagName == 'TH'){\r\n            addEmptyRow(controls);\r\n        } else {\r\n            addEditCapatibility(row);\r\n            addControlRow(controls);\r\n        }\r\n    }\r\n\r\n    let newRow = createAddRowIcon();\r\n    document.getElementsByTagName('main')[0].appendChild(newRow);\r\n\r\n});\r\n\r\nfunction addEmptyRow(tab){\r\n    let row = document.createElement('tr');\r\n    makeDot(row);\r\n    makeDot(row);\r\n    makeDot(row);\r\n    tab.appendChild(row)\r\n}\r\nfunction makeDot(row){\r\n    let dot = document.createElement('td');\r\n    dot.setAttribute('class', 'empty');\r\n    row.appendChild(dot);\r\n}\r\n\r\nfunction addControlRow(tab){\r\n    let row = document.createElement('tr');\r\n\r\n    makeDotWithContent(row, removeImg, 'rmIcon icon', 'removeRow(this.parentNode.parentNode)');\r\n    makeDotWithContent(row, arrowUpImg, 'icon', 'moveUp(this.parentNode.parentNode)');\r\n    makeDotWithContent(row, arrowDnImg, 'icon', 'moveDn(this.parentNode.parentNode)');\r\n\r\n    tab.appendChild(row)\r\n}\r\nfunction makeDotWithContent(row, imgSrc, imgClass, imgAction){\r\n    let dot = document.createElement('td');\r\n    addIcon(dot, imgSrc, imgClass, imgAction);\r\n    row.appendChild(dot);\r\n}\r\n\r\nfunction addIcon(dot, imgSrc, imgClass, imgAction) {\r\n    let rmImg = document.createElement('img');\r\n    rmImg.setAttribute('src', imgSrc);\r\n    rmImg.setAttribute('class', imgClass);\r\n    rmImg.setAttribute('onclick', imgAction);\r\n\r\n    dot.appendChild(rmImg);\r\n}\r\n\r\nfunction createAddRowIcon() {\r\n    let div = document.createElement('div');\r\n    div.setAttribute('class', 'newRow');\r\n\r\n    let img = document.createElement('img');\r\n    img.setAttribute('src', addImg);\r\n    img.setAttribute('class', 'addRow');\r\n    img.setAttribute('onclick', 'addRow()');\r\n\r\n    div.appendChild(img);\r\n    return div;\r\n}\r\n\r\nfunction removeRow(row){\r\n    let id = Array.prototype.indexOf.call(row.parentNode.rows, row);\r\n    table.deleteRow(id);\r\n    controls.deleteRow(id);\r\n}\r\nfunction moveUp(row){\r\n    let id = Array.prototype.indexOf.call(row.parentNode.rows, row);\r\n    if(id>0 && table.rows[id-1].firstElementChild.nodeName=='TD'){\r\n        let r0 = table.rows[id].outerHTML;\r\n        let r1 = table.rows[id-1].outerHTML;\r\n        table.rows[id].innerHTML = r1;\r\n        table.rows[id-1].innerHTML = r0;\r\n    }\r\n}\r\nfunction moveDn(row){\r\n    let id = Array.prototype.indexOf.call(row.parentNode.rows, row);\r\n    if(id<table.rows.length-1 && table.rows[id+1].firstElementChild.nodeName=='TD'){\r\n        let r0 = table.rows[id].outerHTML;\r\n        let r1 = table.rows[id+1].outerHTML;\r\n        table.rows[id].innerHTML = r1;\r\n        table.rows[id+1].innerHTML = r0;\r\n    }\r\n}\r\nfunction addRow() {\r\n    addTextRow(table);\r\n    addControlRow(controls);\r\n}\r\nfunction addTextRow(tab) {\r\n    let tWidth = tab.rows[0].children.length;\r\n    let row = tab.insertRow();\r\n\r\n    for (let i=0; i<tWidth; i++){\r\n        let text = document.createTextNode('lorem');\r\n        row.insertCell().appendChild(text);\r\n    }\r\n\r\n    addEditCapatibility(row);\r\n}\r\n\r\nfunction addEditCapatibility(row){\r\n\r\n    for (let cell of row.children){\r\n        if(cell.firstChild != '') {\r\n            //move any text to span\r\n            let text = document.createElement('span');\r\n            let x = cell.textContent;\r\n            cell.firstChild.textContent = '';\r\n            text.textContent = x;\r\n            text.setAttribute('onclick', 'editCell(this.parentNode)');\r\n            cell.appendChild(text);\r\n        }\r\n\r\n        let editField = document.createElement('textarea');\r\n        editField.setAttribute('type', 'text');\r\n        editField.setAttribute('onblur', 'closeEditor(this.parentNode)');\r\n        editField.setAttribute('placeholder', 'lorem');\r\n        editField.setAttribute('class', 'noDisplay');\r\n        cell.appendChild(editField);\r\n    }\r\n}\r\n\r\n\r\n/* article editor */\r\nfunction editCell(cell) {\r\n\r\n    let cellData = cell.firstElementChild.textContent;\r\n    cell.firstElementChild.classList.add('noDisplay');\r\n    cell.lastElementChild.value = cellData;\r\n    cell.lastElementChild.classList.remove('noDisplay');\r\n    cell.lastElementChild.focus();\r\n}\r\n\r\nfunction closeEditor(cell) {\r\n\r\n    let cellData = cell.lastElementChild.value;\r\n    if (!cellData){\r\n        cellData='lorem';\r\n    }\r\n    cell.lastElementChild.classList.add('noDisplay');\r\n    cell.firstElementChild.textContent = cellData;\r\n    cell.firstElementChild.classList.remove('noDisplay');\r\n}"]},"metadata":{},"sourceType":"module"}